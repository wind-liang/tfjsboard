{"version":3,"sources":["main.js"],"names":["loadLevel","game","n","level","levels","blocks","i","length","p","b","Block","push","enableDebugMode","enable","window","paused","addEventListener","event","k","key","includes","Number","document","querySelector","input","target","fps","value","__main","images","ball","block","paddle","GuaGame","instance","g","s","SceneTitle","new","runWithScene"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,SAAS,GAAG,SAAZA,SAAY,CAASC,IAAT,EAAeC,CAAf,EAAkB;AAC9BA,EAAAA,CAAC,GAAGA,CAAC,GAAG,CAAR;AACA,MAAIC,KAAK,GAAGC,MAAM,CAACF,CAAD,CAAlB;AACA,MAAIG,MAAM,GAAG,EAAb;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,KAAK,CAACI,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACnC,QAAIE,CAAC,GAAGL,KAAK,CAACG,CAAD,CAAb;AACA,QAAIG,CAAC,GAAGC,KAAK,CAACT,IAAD,EAAOO,CAAP,CAAb;AACAH,IAAAA,MAAM,CAACM,IAAP,CAAYF,CAAZ;AACH;;AACD,SAAOJ,MAAP;AACH,CAVD;;AAYA,IAAIO,eAAe,GAAG,SAAlBA,eAAkB,CAASX,IAAT,EAAeY,MAAf,EAAuB;AACzC,MAAG,CAACA,MAAJ,EAAY;AACR;AACH;;AACDC,EAAAA,MAAM,CAACC,MAAP,GAAgB,KAAhB;AACAD,EAAAA,MAAM,CAACE,gBAAP,CAAwB,SAAxB,EAAmC,UAASC,KAAT,EAAe;AAC9C,QAAIC,CAAC,GAAGD,KAAK,CAACE,GAAd;;AACA,QAAID,CAAC,IAAI,GAAT,EAAc;AACV;AACAJ,MAAAA,MAAM,CAACC,MAAP,GAAgB,CAACD,MAAM,CAACC,MAAxB;AACH,KAHD,MAGO,IAAI,UAAUK,QAAV,CAAmBF,CAAnB,CAAJ,EAA2B;AAC9B;AACAb,MAAAA,MAAM,GAAGL,SAAS,CAACC,IAAD,EAAOoB,MAAM,CAACH,CAAD,CAAb,CAAlB;AACH;AACJ,GATD,EALyC,CAezC;;AACAI,EAAAA,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CP,gBAA1C,CAA2D,OAA3D,EAAoE,UAASC,KAAT,EAAgB;AAChF,QAAIO,KAAK,GAAGP,KAAK,CAACQ,MAAlB,CADgF,CAEhF;;AACAX,IAAAA,MAAM,CAACY,GAAP,GAAaL,MAAM,CAACG,KAAK,CAACG,KAAP,CAAnB;AACH,GAJD;AAKH,CArBD;;AAuBA,IAAIC,MAAM,GAAG,SAATA,MAAS,GAAW;AACpB,MAAIC,MAAM,GAAG;AACTC,IAAAA,IAAI,EAAE,cADG;AAETC,IAAAA,KAAK,EAAE,eAFE;AAGTC,IAAAA,MAAM,EAAE;AAHC,GAAb;AAKA,MAAI/B,IAAI,GAAGgC,OAAO,CAACC,QAAR,CAAiB,EAAjB,EAAqBL,MAArB,EAA6B,UAASM,CAAT,EAAW;AAC/C,QAAIC,CAAC,GAAGC,UAAU,CAACC,GAAX,CAAeH,CAAf,CAAR;AACAA,IAAAA,CAAC,CAACI,YAAF,CAAeH,CAAf;AACH,GAHU,CAAX;AAKAxB,EAAAA,eAAe,CAACX,IAAD,EAAO,IAAP,CAAf;AACH,CAZD;;AAcA2B,MAAM","file":"main.ed5f2471.map","sourceRoot":"..","sourcesContent":["var loadLevel = function(game, n) {\n    n = n - 1\n    var level = levels[n]\n    var blocks = []\n    for (var i = 0; i < level.length; i++) {\n        var p = level[i]\n        var b = Block(game, p)\n        blocks.push(b)\n    }\n    return blocks\n}\n\nvar enableDebugMode = function(game, enable) {\n    if(!enable) {\n        return\n    }\n    window.paused = false\n    window.addEventListener('keydown', function(event){\n        var k = event.key\n        if (k == 'p') {\n            // 暂停功能\n            window.paused = !window.paused\n        } else if ('1234567'.includes(k)) {\n            // 为了 debug 临时加的载入关卡功能\n            blocks = loadLevel(game, Number(k))\n        }\n    })\n    // 控制速度\n    document.querySelector('#id-input-speed').addEventListener('input', function(event) {\n        var input = event.target\n        // log(event, input.value)\n        window.fps = Number(input.value)\n    })\n}\n\nvar __main = function() {\n    var images = {\n        ball: 'img/ball.png',\n        block: 'img/block.png',\n        paddle: 'https://tensorflow-pro.oss-cn-beijing.aliyuncs.com/paddle.jpg',\n    }\n    var game = GuaGame.instance(30, images, function(g){\n        var s = SceneTitle.new(g)\n        g.runWithScene(s)\n    })\n\n    enableDebugMode(game, true)\n}\n\n__main()\n"]}