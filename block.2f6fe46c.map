{"version":3,"sources":["scene/main/block.js"],"names":["Block","game","position","p","img","imageByName","o","x","y","alive","lifes","image","w","h","kill","collide","b","rectIntersects"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,KAAK,GAAG,SAARA,KAAQ,CAASC,IAAT,EAAeC,QAAf,EAAyB;AACjC;AACA,MAAIC,CAAC,GAAGD,QAAR;AACA,MAAIE,GAAG,GAAGH,IAAI,CAACI,WAAL,CAAiB,OAAjB,CAAV;AACA,MAAIC,CAAC,GAAG;AACJC,IAAAA,CAAC,EAAEJ,CAAC,CAAC,CAAD,CADA;AAEJK,IAAAA,CAAC,EAAEL,CAAC,CAAC,CAAD,CAFA;AAGJM,IAAAA,KAAK,EAAE,IAHH;AAIJC,IAAAA,KAAK,EAAEP,CAAC,CAAC,CAAD,CAAD,IAAQ;AAJX,GAAR;AAMAG,EAAAA,CAAC,CAACK,KAAF,GAAUP,GAAG,CAACO,KAAd;AACAL,EAAAA,CAAC,CAACM,CAAF,GAAMR,GAAG,CAACQ,CAAV;AACAN,EAAAA,CAAC,CAACO,CAAF,GAAMT,GAAG,CAACS,CAAV;;AACAP,EAAAA,CAAC,CAACQ,IAAF,GAAS,YAAW;AAChBR,IAAAA,CAAC,CAACI,KAAF;;AACA,QAAIJ,CAAC,CAACI,KAAF,GAAU,CAAd,EAAiB;AACbJ,MAAAA,CAAC,CAACG,KAAF,GAAU,KAAV;AACH;AACJ,GALD;;AAMAH,EAAAA,CAAC,CAACS,OAAF,GAAY,UAASC,CAAT,EAAY;AACpB;AACA,WAAOV,CAAC,CAACG,KAAF,KAAYQ,cAAc,CAACX,CAAD,EAAIU,CAAJ,CAAd,IAAwBC,cAAc,CAACD,CAAD,EAAIV,CAAJ,CAAlD,CAAP;AACH,GAHD;;AAIA,SAAOA,CAAP;AACH,CAxBD","file":"block.2f6fe46c.map","sourceRoot":"..","sourcesContent":["var Block = function(game, position) {\n    // positon 是 [0, 0] 格式\n    var p = position\n    var img = game.imageByName('block')\n    var o = {\n        x: p[0],\n        y: p[1],\n        alive: true,\n        lifes: p[2] || 1,\n    }\n    o.image = img.image\n    o.w = img.w\n    o.h = img.h\n    o.kill = function() {\n        o.lifes--\n        if (o.lifes < 1) {\n            o.alive = false\n        }\n    }\n    o.collide = function(b) {\n        // log('block', o.alive, b)\n        return o.alive && (rectIntersects(o, b) || rectIntersects(b, o))\n    }\n    return o\n}\n"]}